query StreamAndHistory($id: ID!) {
  user(id: $id) {
    streams(orderBy: createdTimestamp, orderDirection: desc) {
      ...UserStream
    }
    historicalEvents(orderBy: createdTimestamp, orderDirection: desc) {
      ...UserHistory
    }
  }
}

fragment UserStream on Stream {
  streamId
  payer {
    id
  }
  payee {
    id
  }
  token
  amountPerSec
  createdTimestamp
}

fragment UserHistory on HistoryEvent {
  txHash
  eventType
  stream {
    streamId
    payer {
      id
    }
    payee {
      id
    }
    token
    amountPerSec
  }
  oldStream {
    streamId
    payer {
      id
    }
    payee {
      id
    }
    token
    amountPerSec
  }
  createdTimestamp
}
